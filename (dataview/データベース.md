---
aliases:
---

```dataviewjs
/***** 設定 *****/
const ZERO_PAD = 3; // 001 の桁数
// 除外したいパス（部分一致OK）。例：テンプレ・アタッチ・日記など
const EXCLUDE_PATTERNS = [
  "/Templates/", "/template/", "/attachments/", "/_assets/",
  "/Daily/", "/Diary/", "/Journal/", "/_archive/"
];
// 含めたいタグ（空配列ならタグ制限なし）。例: ["設定"]
const INCLUDE_TAGS = []; 

/***** 収集 *****/
let pages = dv.pages()               // Vault全体
  .where(p => p.file.ext === "md")   // mdのみ
  .where(p => p.file.path !== dv.current().file.path) // この索引ノート除外
  .where(p => !EXCLUDE_PATTERNS.some(x => p.file.path.includes(x)))
  .where(p => INCLUDE_TAGS.length === 0 || (p.file.tags ?? []).some(t => INCLUDE_TAGS.includes(t)))
  .sort(p => p.file.ctime, 'asc');

/***** 出力 *****/
const header = ["#", "タイトル", "作成日", "更新日", "パス"];
const rows = pages.map((p, i) => {
  const num = String(i + 1).padStart(ZERO_PAD, "0");
  const c = p.file.ctime.toFormat("yyyy-MM-dd");
  const m = p.file.mtime.toFormat("yyyy-MM-dd");
  return [num, p.file.link, c, m, p.file.folder];
});
dv.table(header, rows);

```
